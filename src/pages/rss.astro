---
import Layout from '@layouts/Layout.astro';
import PageTitle from '@components/PageTitle.astro';
import '@styles/global.css';

const feeds = [
    {
        title: 'All Content',
        description: 'Blog posts and garden notes in one stream.',
        url: '/rss.xml',
        icon: 'ðŸ”„'
    },
    {
        title: 'Blog',
        description: 'Long-form writing only.',
        url: '/blog.xml',
        icon: 'ðŸ“°'
    },
    {
        title: 'Garden',
        description: 'Short notes and experiments.',
        url: '/garden.xml',
        icon: 'ðŸŒ¿'
    }
];

const recommendations = [
    {
        name: 'Miniflux',
        type: 'Self-hosted (my setup)',
        note: 'My recommended reader and what I use personally.',
        url: 'https://miniflux.app'
    },
    {
        name: 'FreshRSS',
        type: 'Self-hosted alternative',
        note: 'A strong alternative if you want more built-in features.',
        url: 'https://freshrss.org'
    },
    {
        name: 'NetNewsWire',
        type: 'App recommendation',
        note: 'A clean native app experience.',
        url: 'https://netnewswire.com'
    }
];
---

<Layout title="RSS | Tanuj Ravi Rao" description="Subscribe to updates from Tanuj Ravi Rao's website">
    <PageTitle title="RSS Feeds" subtitle="Choose a feed, copy its URL, and subscribe in your reader." />

    <section class="mx-auto max-w-3xl space-y-8">
        <div class="bg-light-bg-2 dark:bg-dark-bg-2 border-light-ui dark:border-dark-ui rounded-xl border p-5 sm:p-6">
            <p class="text-light-tx dark:text-dark-tx text-sm leading-relaxed sm:text-base">
                RSS lets you follow this site without checking manually. All feed dates are displayed
                in the site timezone.
            </p>
        </div>

        <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            {
                feeds.map((feed) => (
                    <article class="bg-light-bg-2 dark:bg-dark-bg-2 border-light-ui dark:border-dark-ui hover:border-light-bl dark:hover:border-dark-bl rounded-xl border p-5 transition-colors">
                        <h2 class="text-light-tx dark:text-dark-tx mb-2 flex items-center gap-2 text-lg font-semibold">
                            <span aria-hidden="true">{feed.icon}</span>
                            {feed.title}
                        </h2>
                        <p
                            class="text-light-tx-2 dark:text-dark-tx-2 mb-4 min-h-[2.5rem] text-sm leading-5 line-clamp-2"
                        >
                            {feed.description}
                        </p>
                        <a
                            href={feed.url}
                            class="text-light-bl dark:text-dark-bl break-all text-sm font-medium hover:underline"
                        >
                            {feed.url}
                        </a>
                    </article>
                ))
            }
        </div>

        <div class="grid gap-4 lg:grid-cols-[1.4fr_1fr]">
            <section class="bg-light-bg-2 dark:bg-dark-bg-2 border-light-ui dark:border-dark-ui rounded-xl border p-5 sm:p-6">
                <h2 class="text-light-tx dark:text-dark-tx mb-3 text-lg font-semibold">How to Subscribe</h2>
                <ol class="text-light-tx-2 dark:text-dark-tx-2 list-decimal space-y-2 pl-5 text-sm">
                    <li>Copy one feed URL above.</li>
                    <li>Open your RSS reader and choose Add Feed.</li>
                    <li>Paste the URL and save.</li>
                </ol>
            </section>

            <section class="bg-light-bg-2 dark:bg-dark-bg-2 border-light-ui dark:border-dark-ui rounded-xl border p-5 sm:p-6">
                <h2 class="text-light-tx dark:text-dark-tx mb-3 text-lg font-semibold">
                    Recommended Readers
                </h2>
                <ul class="space-y-3">
                    {
                        recommendations.map((reader) => (
                            <li>
                                <a
                                    href={reader.url}
                                    target="_blank"
                                    rel="noopener noreferrer"
                                    class="text-light-bl dark:text-dark-bl text-sm font-medium hover:underline"
                                >
                                    {reader.name}
                                </a>
                                <p class="text-light-tx-2 dark:text-dark-tx-2 mt-1 text-xs">
                                    {reader.type}: {reader.note}
                                </p>
                            </li>
                        ))
                    }
                </ul>
            </section>
        </div>
    </section>
</Layout>
